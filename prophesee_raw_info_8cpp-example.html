<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Prophesee Driver API: prophesee_raw_info.cpp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="icon.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Prophesee Driver API
   &#160;<span id="projectnumber">1.4.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">prophesee_raw_info.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<p>Example of getting informations about a RAW file.</p>
<div class="fragment"><div class="line"><span class="comment">/*******************************************************************</span></div><div class="line"><span class="comment"> * File : prophesee_raw_info.cpp                                   *</span></div><div class="line"><span class="comment"> *  Simple application to display informations about a RAW file.   *</span></div><div class="line"><span class="comment"> *                                                                 *</span></div><div class="line"><span class="comment"> * Copyright: (c) 2015-2019 Prophesee                              *</span></div><div class="line"><span class="comment"> *******************************************************************/</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &quot;camera_error_code.h&quot;</span></div><div class="line"><span class="preprocessor">#include &lt;boost/filesystem/operations.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;iomanip&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;sstream&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;array&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;thread&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;boost/format.hpp&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;boost/program_options.hpp&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &lt;prophesee_driver.h&gt;</span></div><div class="line"><span class="preprocessor">#include &lt;utils/header_helper.h&gt;</span></div><div class="line"></div><div class="line"><span class="keyword">namespace </span>po = boost::program_options;</div><div class="line"></div><div class="line">std::string human_readable_rate(<span class="keywordtype">double</span> rate) {</div><div class="line">    std::ostringstream oss;</div><div class="line">    <span class="keywordflow">if</span> (rate &lt; 1000) {</div><div class="line">        oss &lt;&lt; std::setprecision(0) &lt;&lt; std::fixed &lt;&lt; rate &lt;&lt; <span class="stringliteral">&quot; ev/s&quot;</span>;</div><div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rate &lt; 1000 * 1000) {</div><div class="line">        oss &lt;&lt; std::setprecision(1) &lt;&lt; std::fixed &lt;&lt; (rate / 1000) &lt;&lt; <span class="stringliteral">&quot; Kev/s&quot;</span>;</div><div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rate &lt; 1000 * 1000 * 1000) {</div><div class="line">        oss &lt;&lt; std::setprecision(1) &lt;&lt; std::fixed &lt;&lt; (rate / (1000 * 1000)) &lt;&lt; <span class="stringliteral">&quot; Mev/s&quot;</span>;</div><div class="line">    } <span class="keywordflow">else</span> {</div><div class="line">        oss &lt;&lt; std::setprecision(1) &lt;&lt; std::fixed &lt;&lt; (rate / (1000 * 1000 * 1000)) &lt;&lt; <span class="stringliteral">&quot; Gev/s&quot;</span>;</div><div class="line">    }</div><div class="line">    <span class="keywordflow">return</span> oss.str();</div><div class="line">}</div><div class="line"></div><div class="line">std::string human_readable_time(Prophesee::timestamp t) {</div><div class="line">    std::ostringstream oss;</div><div class="line">    std::array&lt;std::string, 6&gt; ls{<span class="stringliteral">&quot;d&quot;</span>, <span class="stringliteral">&quot;h&quot;</span>, <span class="stringliteral">&quot;m&quot;</span>, <span class="stringliteral">&quot;s&quot;</span>, <span class="stringliteral">&quot;ms&quot;</span>, <span class="stringliteral">&quot;us&quot;</span>};</div><div class="line">    std::array&lt;int, 6&gt; vs;</div><div class="line">    vs[5] = (t % 1000);</div><div class="line">    t /= 1000; <span class="comment">// ms</span></div><div class="line">    vs[4] = (t % 1000);</div><div class="line">    t /= 1000; <span class="comment">// s</span></div><div class="line">    vs[3] = (t % 60);</div><div class="line">    t /= 60; <span class="comment">// m</span></div><div class="line">    vs[2] = (t % 60);</div><div class="line">    t /= 60; <span class="comment">// h</span></div><div class="line">    vs[1] = (t % 24);</div><div class="line">    t /= 24; <span class="comment">// d</span></div><div class="line">    vs[0] = (t % 365);</div><div class="line"></div><div class="line">    <span class="keywordtype">size_t</span> i = 0;</div><div class="line">    <span class="keywordflow">for</span> (; i &lt; 6 &amp;&amp; vs[i] == 0; ++i) {</div><div class="line">    }</div><div class="line">    <span class="keywordflow">for</span> (; i &lt; 6; ++i) {</div><div class="line">        oss &lt;&lt; vs[i] &lt;&lt; ls[i] &lt;&lt; <span class="stringliteral">&quot; &quot;</span>;</div><div class="line">    }</div><div class="line">    <span class="keywordflow">return</span> oss.str();</div><div class="line">}</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span> *argv[]) {</div><div class="line">    std::string in = <span class="stringliteral">&quot;&quot;</span>;</div><div class="line"></div><div class="line">    po::options_description desc(<span class="stringliteral">&quot;Allowed options&quot;</span>);</div><div class="line">    <span class="comment">// clang-format off</span></div><div class="line">    desc.add_options()</div><div class="line">            (<span class="stringliteral">&quot;help,?&quot;</span>, <span class="stringliteral">&quot;produce help message&quot;</span>)</div><div class="line">            (<span class="stringliteral">&quot;in,i&quot;</span>, po::value&lt;std::string&gt;(&amp;in)-&gt;default_value(<span class="stringliteral">&quot;&quot;</span>), <span class="stringliteral">&quot;RAW event file .raw&quot;</span>)</div><div class="line">        ;</div><div class="line">    <span class="comment">// clang-format on</span></div><div class="line">    po::positional_options_description p;</div><div class="line">    p.add(<span class="stringliteral">&quot;in&quot;</span>, -1);</div><div class="line"></div><div class="line">    po::variables_map vm;</div><div class="line">    po::store(po::command_line_parser(argc, argv).options(desc).positional(p).run(), vm);</div><div class="line"></div><div class="line">    po::notify(vm);</div><div class="line"></div><div class="line">    <span class="keywordflow">if</span> (vm.count(<span class="stringliteral">&quot;help&quot;</span>)) {</div><div class="line">        std::cout &lt;&lt; desc &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line">        <span class="keywordflow">return</span> 0;</div><div class="line">    }</div><div class="line">    <span class="keywordflow">if</span> (in.empty()) {</div><div class="line">        std::cerr &lt;&lt; <span class="stringliteral">&quot;Usage : &quot;</span> &lt;&lt; argv[0] &lt;&lt; std::endl;</div><div class="line">        std::cerr &lt;&lt; desc &lt;&lt; std::endl;</div><div class="line">        <span class="keywordflow">return</span> 1;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::string event_encoding = <span class="stringliteral">&quot;EVT2&quot;</span>;</div><div class="line">    std::string systemID, subsystemID;</div><div class="line">    std::ifstream ifs(in);</div><div class="line">    <span class="keywordflow">if</span> (!ifs.is_open()) {</div><div class="line">        std::cerr &lt;&lt; <span class="stringliteral">&quot;Unable to open RAW file.&quot;</span> &lt;&lt; std::endl;</div><div class="line">        <span class="keywordflow">return</span> 1;</div><div class="line">    }</div><div class="line">    <span class="keywordtype">bool</span> header_present;</div><div class="line">    <span class="keyword">auto</span> header = Prophesee::Utils::HeaderHelper::parse_header(ifs, header_present);</div><div class="line">    <span class="keywordflow">if</span> (header_present) {</div><div class="line">        <span class="keyword">auto</span> evt = Prophesee::Utils::HeaderHelper::get_key_value_from_header(</div><div class="line">            header, Prophesee::Utils::HeaderHelper::EVENTS_TYPE_KEY);</div><div class="line">        <span class="keywordflow">if</span> (evt == <span class="stringliteral">&quot;3.0&quot;</span>) {</div><div class="line">            event_encoding = <span class="stringliteral">&quot;EVT3&quot;</span>;</div><div class="line">        }</div><div class="line">        systemID = Prophesee::Utils::HeaderHelper::get_key_value_from_header(</div><div class="line">            header, Prophesee::Utils::HeaderHelper::SYSTEM_ID_KEY);</div><div class="line">        subsystemID = Prophesee::Utils::HeaderHelper::get_sub_system_id(header);</div><div class="line">    }</div><div class="line"></div><div class="line">    <a name="_a0"></a><a class="code" href="classProphesee_1_1Camera.html">Prophesee::Camera</a> camera;</div><div class="line">    <span class="keywordflow">try</span> {</div><div class="line">        camera = <a name="a1"></a><a class="code" href="classProphesee_1_1Camera.html#afa792df12f4df374f89b7127c2256fd6">Prophesee::Camera::from_file</a>(in, <span class="keyword">false</span>);</div><div class="line">    } <span class="keywordflow">catch</span> (<a name="_a2"></a><a class="code" href="classProphesee_1_1CameraException.html">Prophesee::CameraException</a> &amp;e) {</div><div class="line">        std::cerr &lt;&lt; e.what() &lt;&lt; std::endl;</div><div class="line">        <span class="keywordflow">return</span> 1;</div><div class="line">    }</div><div class="line">    std::string serial = camera.<a name="a3"></a><a class="code" href="classProphesee_1_1Camera.html#ab4c12cd4bfb5a5e949fc625bac64241d">get_camera_configuration</a>().<a name="a4"></a><a class="code" href="structProphesee_1_1CameraConfiguration.html#aec891166c7f078a7e414ef2f2669e631">serial_number</a>;</div><div class="line"></div><div class="line">    <span class="keyword">struct </span>EventType {</div><div class="line">        <span class="keyword">enum</span> { CD = 0, EM, IMU, ExtTrigger, Count };</div><div class="line">    };</div><div class="line">    Prophesee::timestamp duration = -1;</div><div class="line">    std::array&lt;Prophesee::timestamp, EventType::Count&gt; first_ts, last_ts;</div><div class="line">    std::array&lt;size_t, EventType::Count&gt; num_events;</div><div class="line">    std::array&lt;std::string, EventType::Count&gt; label_events{<span class="stringliteral">&quot;CD&quot;</span>, <span class="stringliteral">&quot;EM&quot;</span>, <span class="stringliteral">&quot;IMU&quot;</span>, <span class="stringliteral">&quot;External triggers&quot;</span>};</div><div class="line">    std::fill(first_ts.begin(), first_ts.end(), std::numeric_limits&lt;Prophesee::timestamp&gt;::max());</div><div class="line">    std::fill(last_ts.begin(), last_ts.end(), -1);</div><div class="line">    std::fill(num_events.begin(), num_events.end(), 0);</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span> {</div><div class="line">        <a name="_a5"></a><a class="code" href="classProphesee_1_1CD.html">Prophesee::CD</a> &amp;cd = camera.<a name="a6"></a><a class="code" href="classProphesee_1_1Camera.html#a49241bf1af8d9e935a6a4c849892b299">cd</a>();</div><div class="line">        cd.<a name="a7"></a><a class="code" href="classProphesee_1_1CD.html#affe11644cda56792434a22819ed1aec6">add_callback</a>(</div><div class="line">            [&amp;num_events, &amp;first_ts, &amp;last_ts](<span class="keyword">const</span> <a name="_a8"></a><a class="code" href="classProphesee_1_1Event2dTD.html">Prophesee::EventCD</a> *begin, <span class="keyword">const</span> <a class="code" href="classProphesee_1_1Event2dTD.html">Prophesee::EventCD</a> *end) {</div><div class="line">                num_events[EventType::CD] += std::distance(begin, end);</div><div class="line">                first_ts[EventType::CD] = std::min(first_ts[EventType::CD], begin-&gt;<a name="a9"></a><a class="code" href="classProphesee_1_1Event2d.html#ad6aa8994cb49b6deada828ec672c656d">t</a>);</div><div class="line">                last_ts[EventType::CD]  = std::max(last_ts[EventType::CD], (end - 1)-&gt;t);</div><div class="line">            });</div><div class="line">    } <span class="keywordflow">catch</span> (...) {}</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span> {</div><div class="line">        <a name="_a10"></a><a class="code" href="classProphesee_1_1EM.html">Prophesee::EM</a> &amp;em = camera.<a name="a11"></a><a class="code" href="classProphesee_1_1Camera.html#aa90e9aab54d8beabf380bd7eee7f5994">em</a>();</div><div class="line">        em.<a name="a12"></a><a class="code" href="classProphesee_1_1EM.html#a58c24bfe69ec67573e03def28adea0f6">add_callback</a>(</div><div class="line">            [&amp;num_events, &amp;first_ts, &amp;last_ts](<span class="keyword">const</span> <a name="_a13"></a><a class="code" href="classProphesee_1_1Event2dAPS.html">Prophesee::EventEM</a> *begin, <span class="keyword">const</span> <a class="code" href="classProphesee_1_1Event2dAPS.html">Prophesee::EventEM</a> *end) {</div><div class="line">                num_events[EventType::EM] += std::distance(begin, end);</div><div class="line">                first_ts[EventType::EM] = std::min(first_ts[EventType::EM], begin-&gt;<a class="code" href="classProphesee_1_1Event2d.html#ad6aa8994cb49b6deada828ec672c656d">t</a>);</div><div class="line">                last_ts[EventType::EM]  = std::max(last_ts[EventType::EM], (end - 1)-&gt;t);</div><div class="line">            });</div><div class="line">    } <span class="keywordflow">catch</span> (...) {}</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span> {</div><div class="line">        <a name="_a14"></a><a class="code" href="classProphesee_1_1Imu.html">Prophesee::Imu</a> &amp;imu = camera.<a name="a15"></a><a class="code" href="classProphesee_1_1Camera.html#afaa6d477ebecfec7c918f42eda6ed82a">imu</a>();</div><div class="line">        imu.<a name="a16"></a><a class="code" href="classProphesee_1_1Imu.html#ab3cb9f7d801631613eab63189c05e321">add_callback</a>(</div><div class="line">            [&amp;num_events, &amp;first_ts, &amp;last_ts](<span class="keyword">const</span> <a name="_a17"></a><a class="code" href="classProphesee_1_1EventIMU.html">Prophesee::EventIMU</a> *begin, <span class="keyword">const</span> <a class="code" href="classProphesee_1_1EventIMU.html">Prophesee::EventIMU</a> *end) {</div><div class="line">                num_events[EventType::IMU] += std::distance(begin, end);</div><div class="line">                first_ts[EventType::IMU] = std::min(first_ts[EventType::IMU], begin-&gt;<a name="a18"></a><a class="code" href="classProphesee_1_1EventIMU.html#a0a61e8c2a21d0ba76f07cdd98c7cbe58">t</a>);</div><div class="line">                last_ts[EventType::IMU]  = std::max(last_ts[EventType::IMU], (end - 1)-&gt;t);</div><div class="line">            });</div><div class="line">    } <span class="keywordflow">catch</span> (...) {}</div><div class="line"></div><div class="line">    <span class="keywordflow">try</span> {</div><div class="line">        <a name="_a19"></a><a class="code" href="classProphesee_1_1ExtTrigger.html">Prophesee::ExtTrigger</a> &amp;ext_trigger = camera.<a name="a20"></a><a class="code" href="classProphesee_1_1Camera.html#a7e4398d49f73955fcee7d5b66c9779bd">ext_trigger</a>();</div><div class="line">        ext_trigger.<a name="a21"></a><a class="code" href="classProphesee_1_1ExtTrigger.html#a9a83488d645be618a60210866a25a32a">add_callback</a>([&amp;num_events, &amp;first_ts, &amp;last_ts](<span class="keyword">const</span> <a name="_a22"></a><a class="code" href="classProphesee_1_1EventExtTrigger.html">Prophesee::EventExtTrigger</a> *begin,</div><div class="line">                                                                    <span class="keyword">const</span> <a class="code" href="classProphesee_1_1EventExtTrigger.html">Prophesee::EventExtTrigger</a> *end) {</div><div class="line">            num_events[EventType::ExtTrigger] += std::distance(begin, end);</div><div class="line">            first_ts[EventType::ExtTrigger] = std::min(first_ts[EventType::ExtTrigger], begin-&gt;<a name="a23"></a><a class="code" href="classProphesee_1_1EventExtTrigger.html#a97f3f62c50c4b9201ca8177d8f885033">t</a>);</div><div class="line">            last_ts[EventType::ExtTrigger]  = std::max(last_ts[EventType::ExtTrigger], (end - 1)-&gt;t);</div><div class="line">        });</div><div class="line">    } <span class="keywordflow">catch</span> (...) {}</div><div class="line"></div><div class="line">    <span class="keyword">const</span> std::string message(<span class="stringliteral">&quot;Analysing RAW file &quot;</span>);</div><div class="line">    std::cout &lt;&lt; message;</div><div class="line">    std::cout.flush();</div><div class="line">    camera.<a name="a24"></a><a class="code" href="classProphesee_1_1Camera.html#a59432c0a31a8d9ba13183515bcd3e96f">start</a>();</div><div class="line">    <span class="keywordtype">int</span> dots = 0;</div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> it = 0; camera.<a name="a25"></a><a class="code" href="classProphesee_1_1Camera.html#aad0457ad6cdd13d4940e316a94afb015">is_running</a>(); ++it) {</div><div class="line">        std::this_thread::sleep_for(std::chrono::milliseconds(10));</div><div class="line">        <span class="keywordflow">if</span> (it == 50) {</div><div class="line">            it   = 0;</div><div class="line">            dots = (dots + 1) % 4;</div><div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;\r                         &quot;</span>;</div><div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;\r&quot;</span> &lt;&lt; message &lt;&lt; std::string(<span class="stringliteral">&quot;...&quot;</span>).substr(0, dots);</div><div class="line">            std::cout.flush();</div><div class="line">        }</div><div class="line">    }</div><div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;\r&quot;</span>;</div><div class="line">    camera.<a name="a26"></a><a class="code" href="classProphesee_1_1Camera.html#a12cad0dd2ddade5068cbee28f6933b36">stop</a>();</div><div class="line"></div><div class="line">    <span class="comment">// update duration as the maximum timestamp ever found</span></div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; EventType::Count; ++i) {</div><div class="line">        duration = std::max(duration, last_ts[i]);</div><div class="line">    }</div><div class="line"></div><div class="line">    std::ostringstream tmp_oss;</div><div class="line">    <span class="keyword">static</span> constexpr <span class="keywordtype">size_t</span> LineWidth = 100;</div><div class="line">    tmp_oss &lt;&lt; std::setfill(<span class="charliteral">&#39;=&#39;</span>) &lt;&lt; std::setw(LineWidth) &lt;&lt; <span class="stringliteral">&quot;=&quot;</span>;</div><div class="line">    <span class="keyword">const</span> std::string line_sep = tmp_oss.str();</div><div class="line"></div><div class="line">    std::cout &lt;&lt; line_sep &lt;&lt; std::endl;</div><div class="line">    std::cout &lt;&lt; std::endl;</div><div class="line"></div><div class="line">    <span class="keyword">const</span> std::string global_format(<span class="stringliteral">&quot;%-20s%s&quot;</span>);</div><div class="line">    std::cout &lt;&lt; boost::format(global_format) % <span class="stringliteral">&quot;Name&quot;</span> % boost::filesystem::path(in).filename().string() &lt;&lt; std::endl;</div><div class="line">    std::cout &lt;&lt; boost::format(global_format) % <span class="stringliteral">&quot;Path&quot;</span> %</div><div class="line">                     boost::filesystem::canonical(boost::filesystem::path(in)).string()</div><div class="line">              &lt;&lt; std::endl;</div><div class="line">    std::cout &lt;&lt; boost::format(global_format) % <span class="stringliteral">&quot;Duration&quot;</span> % human_readable_time(duration) &lt;&lt; std::endl;</div><div class="line">    std::cout &lt;&lt; boost::format(global_format) % <span class="stringliteral">&quot;Event encoding&quot;</span> % event_encoding &lt;&lt; std::endl;</div><div class="line">    <span class="keyword">auto</span> &amp;gen = camera.<a name="a27"></a><a class="code" href="classProphesee_1_1Camera.html#a8b9f8f0087e6178551367901ee5ff84a">generation</a>();</div><div class="line">    tmp_oss   = std::ostringstream();</div><div class="line">    tmp_oss &lt;&lt; gen.version_major() &lt;&lt; <span class="stringliteral">&quot;.&quot;</span> &lt;&lt; gen.version_minor();</div><div class="line">    std::cout &lt;&lt; boost::format(global_format) % <span class="stringliteral">&quot;Camera generation&quot;</span> % tmp_oss.str() &lt;&lt; std::endl;</div><div class="line">    <span class="keywordflow">if</span> (!systemID.empty()) {</div><div class="line">        std::cout &lt;&lt; boost::format(global_format) % <span class="stringliteral">&quot;Camera systemID&quot;</span> % systemID &lt;&lt; std::endl;</div><div class="line">    }</div><div class="line">    <span class="keywordflow">if</span> (!subsystemID.empty()) {</div><div class="line">        std::cout &lt;&lt; boost::format(global_format) % <span class="stringliteral">&quot;Camera subsystemID&quot;</span> % subsystemID &lt;&lt; std::endl;</div><div class="line">    }</div><div class="line">    <span class="keywordflow">if</span> (!serial.empty()) {</div><div class="line">        std::cout &lt;&lt; boost::format(global_format) % <span class="stringliteral">&quot;Camera serial&quot;</span> % serial &lt;&lt; std::endl;</div><div class="line">    }</div><div class="line"></div><div class="line">    std::cout &lt;&lt; std::endl;</div><div class="line">    std::cout &lt;&lt; line_sep &lt;&lt; std::endl;</div><div class="line">    std::cout &lt;&lt; std::endl;</div><div class="line"></div><div class="line">    <span class="keyword">static</span> constexpr <span class="keywordtype">size_t</span> EventsLineWidth = 100;</div><div class="line">    <span class="keyword">const</span> std::string events_format(<span class="stringliteral">&quot;%-20s%-20s%-20s%-20s%-20s&quot;</span>);</div><div class="line">    tmp_oss = std::ostringstream();</div><div class="line">    tmp_oss &lt;&lt; std::setfill(<span class="charliteral">&#39;-&#39;</span>) &lt;&lt; std::setw(EventsLineWidth) &lt;&lt; <span class="stringliteral">&quot;-&quot;</span>;</div><div class="line">    <span class="keyword">const</span> std::string events_line_sep = tmp_oss.str();</div><div class="line">    std::cout &lt;&lt; boost::format(events_format) % <span class="stringliteral">&quot;Type of event&quot;</span> % <span class="stringliteral">&quot;Number of events&quot;</span> % <span class="stringliteral">&quot;First timestamp&quot;</span> %</div><div class="line">                     <span class="stringliteral">&quot;Last timestamp&quot;</span> % <span class="stringliteral">&quot;Average event rate&quot;</span></div><div class="line">              &lt;&lt; std::endl;</div><div class="line">    std::cout &lt;&lt; events_line_sep &lt;&lt; std::endl;</div><div class="line"></div><div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i = 0; i &lt; EventType::Count; ++i) {</div><div class="line">        <span class="keywordflow">if</span> (num_events[i] != 0) {</div><div class="line">            std::cout &lt;&lt; boost::format(events_format) % label_events[i] % num_events[i] % first_ts[i] % last_ts[i] %</div><div class="line">                             human_readable_rate(num_events[i] / (duration / 1.e6))</div><div class="line">                      &lt;&lt; std::endl;</div><div class="line">        }</div><div class="line">    }</div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --> </div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
